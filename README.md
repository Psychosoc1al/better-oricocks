# Better OriCOCKs

Это небольшой проект, цель которого - попытаться починить ОРИОКС на стороне клиента.
В частности, тут фиксится подсчёт текущих баллов, немножко редактируются разного рода CSS-стили,
а также отображается ближайшее расписание (когда нет официального)

---

### Инструкция по установке:

1. Понадобится менеджер пользовательских скриптов, что-то
   вроде [Tampermonkey (рекомендуется)](https://tampermonkey.net/) - дальше про него,
   [Violentmonkey](https://violentmonkey.github.io/) или [Greasemonkey](https://www.greasespot.net/),
   но в следующем пункте всё равно предложат установить, так что можно перейти там
    1. Если есть Adguard, можно ставить прямо туда, см. пункт 2
2. Дальше ставится непосредственно скрипт, [тыкаем сюда](https://greasyfork.org/ru/scripts/476783-better-oricocks)
    1. Если не хочется ставить в Adguard, а сайт упорно предлагает его открыть,
       полностью закрываем Adguard и перезаходим на сайт (не забывая потом включить обратно)
3. Переходим в ОРИОКС на вкладку "Обучение"
4. Во всплывшем окне о доступе к стороннему ресурсу нажимаем "Всегда разрешать для домена"
   (левая нижняя кнопка) - это запрос расписания группы, что указана в ОРИОКС
    1. Для параноиков указан адрес, куда запрос будет отправлен, а также
       (сюрприз-сюрприз) открыт исходный код
5. Перезагружаем страницу (пока нет возможности обновлять расписание без перезагрузки,
   но планируется)
6. ???
7. PROFIT

---

#### Небольшие пояснения:

- Баллы подсчитываются (поскольку хранятся на сервере) при открытии вкладки предмета,
  так что не стесняемся прокликать каждую
- При следующем посещении страницы баллы подтянутся из локальной копии внутри расширения,
  если только их отображаемое самим сайтом количество не увеличится
- Перекрашиваются фоны оценок из соотношения пересчитанных баллов и указанных на данный
  момент в поле "из ..."
- Расписание учитывает тип недели, день и время для отображения незакончившихся пар
  текущего дня или, при их отсутствии, ближайшего, их имеющего